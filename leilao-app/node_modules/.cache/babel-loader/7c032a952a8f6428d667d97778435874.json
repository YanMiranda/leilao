{"remainingRequest":"E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\node_modules\\babel-loader\\lib\\index.js!E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\src\\views\\unidade\\Unidades.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\src\\views\\unidade\\Unidades.vue","mtime":1711289101568},{"path":"E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\babel.config.js","mtime":1711058275233},{"path":"E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711058648033},{"path":"E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\node_modules\\babel-loader\\lib\\index.js","mtime":1711058642101},{"path":"E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711058648033},{"path":"E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\node_modules\\vue-loader\\lib\\index.js","mtime":1711058653993}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRToveWFuL1Byb2pldG8tbGVpbFx4RTNvL1NlbGVjYW8tRGV2LUFaLW1hc3Rlci9TZWxlY2FvLURldi1BWi1tYXN0ZXIvbGVpbGFvLWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IFRhYmVsYURpbmFtaWNhIGZyb20gJ0AvY29tcG9uZW50cy90YWJsZS9UYWJlbGFEaW5hbWljYS52dWUnOwppbXBvcnQgeyBmb3JtYXRkYXRldGltZSB9IGZyb20gJ0AvdXRpbC9EYXRlVXRpbC5qcyc7CmltcG9ydCBDYWRhc3RyYXJVbmlkYWRlIGZyb20gJy4vQ2FkYXN0cmFyVW5pZGFkZS52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1VuaWRhZGVzJywKICBjb21wb25lbnRzOiB7CiAgICBUYWJlbGFEaW5hbWljYTogVGFiZWxhRGluYW1pY2EsCiAgICBDYWRhc3RyYXJVbmlkYWRlOiBDYWRhc3RyYXJVbmlkYWRlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybWF0ZGF0ZXRpbWU6IGZvcm1hdGRhdGV0aW1lLAogICAgICBzaG93RGlhbG9nOiBmYWxzZSwKICAgICAgZGlhbG9nRGVsZXRlOiBmYWxzZSwKICAgICAgc2VsZWN0ZWQ6IG51bGwsCiAgICAgIHVuaWRhZGVzOiBbXSwKICAgICAgZmllbGRzOiBbewogICAgICAgIHZhbHVlOiAnaWQnLAogICAgICAgIHRleHQ6ICdJRCcsCiAgICAgICAgYWxpZ246ICdjZW50ZXInCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJ25vbWUnLAogICAgICAgIHRleHQ6ICdOb21lJywKICAgICAgICBhbGlnbjogJ2NlbnRlcicKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnY3JlYXRlZEF0JywKICAgICAgICB0ZXh0OiAnRGF0YSBkZSBDcmlhw6fDo28nLAogICAgICAgIGFsaWduOiAnY2VudGVyJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICd1cGRhdGVkQXQnLAogICAgICAgIHRleHQ6ICdEYXRhIGRlIEF0dWFsaXphw6fDo28nLAogICAgICAgIGFsaWduOiAnY2VudGVyJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICdhY3Rpb25zJywKICAgICAgICB0ZXh0OiAnQcOnw7VlcycKICAgICAgfV0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaFVuaWRhZGVzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaFVuaWRhZGVzOiBmdW5jdGlvbiBmZXRjaFVuaWRhZGVzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLiRheGlvcy5nZXQoJy91bmlkYWRlcycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMudW5pZGFkZXMgPSByZXNwb25zZS5kYXRhOwogICAgICAgIF90aGlzLmZvcm1hdFVuaWRhZGVzKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGZvcm1hdFVuaWRhZGVzOiBmdW5jdGlvbiBmb3JtYXRVbmlkYWRlcygpIHsKICAgICAgaWYgKCF0aGlzLnVuaWRhZGVzKSByZXR1cm47CiAgICAgIHRoaXMudW5pZGFkZXMuZm9yRWFjaChmdW5jdGlvbiAodW5pZGFkZSkgewogICAgICAgIHVuaWRhZGUuY3JlYXRlZEF0ID0gZm9ybWF0ZGF0ZXRpbWUodW5pZGFkZS5jcmVhdGVkQXQpOwogICAgICAgIHVuaWRhZGUudXBkYXRlZEF0ID0gZm9ybWF0ZGF0ZXRpbWUodW5pZGFkZS51cGRhdGVkQXQpOwogICAgICB9KTsKICAgIH0sCiAgICBvbkVkaXQ6IGZ1bmN0aW9uIG9uRWRpdChpdGVtKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWQgPSBpdGVtOwogICAgICB0aGlzLnNob3dEaWFsb2cgPSB0cnVlOwogICAgfSwKICAgIG9uRGVsZXRlOiBmdW5jdGlvbiBvbkRlbGV0ZShpdGVtKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWQgPSBpdGVtOwogICAgICB0aGlzLmRpYWxvZ0RlbGV0ZSA9IHRydWU7CiAgICB9LAogICAgb25DbG9zZURlbGV0ZTogZnVuY3Rpb24gb25DbG9zZURlbGV0ZSgpIHsKICAgICAgdGhpcy5kaWFsb2dEZWxldGUgPSBmYWxzZTsKICAgICAgdGhpcy5zZWxlY3RlZCA9IG51bGw7CiAgICB9LAogICAgb25EZWxldGVJdGVtQ29uZmlybTogZnVuY3Rpb24gb25EZWxldGVJdGVtQ29uZmlybSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHRoaXMuJGF4aW9zLmRlbGV0ZSgiL3VuaWRhZGVzLyIuY29uY2F0KHRoaXMuc2VsZWN0ZWQuaWQpKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuZGlhbG9nRGVsZXRlID0gZmFsc2U7CiAgICAgICAgX3RoaXMyLmZldGNoVW5pZGFkZXMoKTsKICAgICAgfSk7CiAgICB9LAogICAgb25DYW5jZWxEaWFsb2c6IGZ1bmN0aW9uIG9uQ2FuY2VsRGlhbG9nKCkgewogICAgICB0aGlzLnNob3dEaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy5zZWxlY3RlZCA9IG51bGw7CiAgICB9LAogICAgb25TYXZlRGlhbG9nOiBmdW5jdGlvbiBvblNhdmVEaWFsb2coaXRlbSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdmFyIHNlbmRPYmogPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGl0ZW0pLCB7fSwgewogICAgICAgIGNyZWF0ZWRBdDogJycsCiAgICAgICAgdXBkYXRlZEF0OiAnJwogICAgICB9KTsKICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL3VuaWRhZGVzJywgc2VuZE9iaikudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLnNob3dEaWFsb2cgPSBmYWxzZTsKICAgICAgICBfdGhpczMuZmV0Y2hVbmlkYWRlcygpOwogICAgICB9KTsKICAgIH0sCiAgICBvbkVkaXREaWFsb2c6IGZ1bmN0aW9uIG9uRWRpdERpYWxvZyhpdGVtKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB2YXIgc2VuZE9iaiA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaXRlbSksIHt9LCB7CiAgICAgICAgY3JlYXRlZEF0OiAnJywKICAgICAgICB1cGRhdGVkQXQ6ICcnCiAgICAgIH0pOwogICAgICB0aGlzLiRheGlvcy5wdXQoIi91bmlkYWRlcy8iLmNvbmNhdChpdGVtLmlkKSwgc2VuZE9iaikudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0LnNob3dEaWFsb2cgPSBmYWxzZTsKICAgICAgICBfdGhpczQuZmV0Y2hVbmlkYWRlcygpOwogICAgICB9KTsKICAgIH0sCiAgICBvbkFkZDogZnVuY3Rpb24gb25BZGQoKSB7CiAgICAgIHRoaXMuc2hvd0RpYWxvZyA9IHRydWU7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["TabelaDinamica","formatdatetime","CadastrarUnidade","name","components","data","showDialog","dialogDelete","selected","unidades","fields","value","text","align","created","fetchUnidades","methods","_this","$axios","get","then","response","formatUnidades","forEach","unidade","createdAt","updatedAt","onEdit","item","onDelete","onCloseDelete","onDeleteItemConfirm","_this2","delete","concat","id","onCancelDialog","onSaveDialog","_this3","sendObj","_objectSpread","post","onEditDialog","_this4","put","onAdd"],"sources":["src/views/unidade/Unidades.vue"],"sourcesContent":["<template>\n  <div>\n    <TabelaDinamica\n      title=\"Unidades\"\n      :headers=\"fields\"\n      :items=\"unidades\"\n      :showbtnColumn=\"true\"\n      @onEdit=\"onEdit\"\n      @onDelete=\"onDelete\"\n      @onAdd=\"onAdd\"\n    />\n\n    <CadastrarUnidade\n      ref=\"CadastrarUnidade\"\n      v-if=\"showDialog\"\n      :item=\"selected\"\n      :showDialog=\"showDialog\"\n      @onCancelar=\"onCancelDialog\"\n      @onSalvar=\"onSaveDialog\"\n      @onEdit=\"onEditDialog\"\n    />\n\n    <v-dialog\n      persistent\n      v-model=\"dialogDelete\"\n      max-width=\"550px\"\n    >\n      <v-card>\n        <v-card-title class=\"text-h5\">Tem certeza que deseja apagar este item?</v-card-title>\n        <v-card-actions>\n          <v-btn\n            text\n            color=\"warning\"\n            @click=\"onCloseDelete\"\n          >\n            Cancelar\n          </v-btn>\n          <v-spacer></v-spacer>\n          <v-btn\n            text\n            color=\"error\"\n            @click=\"onDeleteItemConfirm\"\n          >\n            Sim, Apagar\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nimport TabelaDinamica from '@/components/table/TabelaDinamica.vue';\nimport { formatdatetime } from '@/util/DateUtil.js';\nimport CadastrarUnidade  from './CadastrarUnidade.vue';\n\nexport default {\n  name: 'Unidades',\n\n  components: {\n    TabelaDinamica,\n    CadastrarUnidade,\n  },\n\n  data() {\n    return {\n      formatdatetime,\n      showDialog: false,\n      dialogDelete: false,\n      selected: null,\n      unidades: [],\n      fields: [\n        {\n          value: 'id',\n          text: 'ID',\n          align: 'center',\n        },\n        {\n          value: 'nome',\n          text: 'Nome',\n          align: 'center',\n        },\n        {\n          value: 'createdAt',\n          text: 'Data de Criação',\n          align: 'center',\n        },\n        {\n          value: 'updatedAt',\n          text: 'Data de Atualização',\n          align: 'center',\n        },\n        {\n          value: 'actions',\n          text: 'Ações',\n        },\n      ],\n    };\n  },\n\n  created() {\n    this.fetchUnidades();\n  },\n\n  methods: {\n    fetchUnidades() {\n      this.$axios.get('/unidades')\n        .then(response => {\n          this.unidades = response.data;\n          this.formatUnidades();\n        })\n    },\n\n    formatUnidades() {\n      if (!this.unidades) return;\n\n      this.unidades.forEach(unidade => {\n        unidade.createdAt = formatdatetime(unidade.createdAt);\n        unidade.updatedAt = formatdatetime(unidade.updatedAt);\n      });\n    },\n\n    onEdit(item) {\n      this.selected = item;\n      this.showDialog = true;\n    },\n\n    onDelete(item) {\n      this.selected = item;\n      this.dialogDelete = true;\n    },\n\n    onCloseDelete() {\n      this.dialogDelete = false;\n      this.selected = null;\n    },\n\n    onDeleteItemConfirm() {\n      this.$axios.delete(`/unidades/${this.selected.id}`)\n        .then(() => {\n          this.dialogDelete = false;\n          this.fetchUnidades();\n        })\n    },\n\n    onCancelDialog() {\n      this.showDialog = false;\n      this.selected = null;\n    },\n\n    onSaveDialog(item) {\n      const sendObj = {\n        ...item,\n        createdAt: '',\n        updatedAt: '',\n      };\n      this.$axios.post('/unidades', sendObj)\n        .then(() => {\n          this.showDialog = false;\n          this.fetchUnidades();\n        })\n    },\n\n    onEditDialog(item) {\n      const sendObj = {\n        ...item,\n        createdAt: '',\n        updatedAt: '',\n      };\n      this.$axios.put(`/unidades/${item.id}`, sendObj)\n        .then(() => {\n          this.showDialog = false;\n          this.fetchUnidades();\n        })\n    },\n\n    onAdd() {\n      this.showDialog = true;\n    },\n  }\n};\n</script>\n"],"mappings":";;;AAoDA,OAAAA,cAAA;AACA,SAAAC,cAAA;AACA,OAAAC,gBAAA;AAEA;EACAC,IAAA;EAEAC,UAAA;IACAJ,cAAA,EAAAA,cAAA;IACAE,gBAAA,EAAAA;EACA;EAEAG,IAAA,WAAAA,KAAA;IACA;MACAJ,cAAA,EAAAA,cAAA;MACAK,UAAA;MACAC,YAAA;MACAC,QAAA;MACAC,QAAA;MACAC,MAAA,GACA;QACAC,KAAA;QACAC,IAAA;QACAC,KAAA;MACA,GACA;QACAF,KAAA;QACAC,IAAA;QACAC,KAAA;MACA,GACA;QACAF,KAAA;QACAC,IAAA;QACAC,KAAA;MACA,GACA;QACAF,KAAA;QACAC,IAAA;QACAC,KAAA;MACA,GACA;QACAF,KAAA;QACAC,IAAA;MACA;IAEA;EACA;EAEAE,OAAA,WAAAA,QAAA;IACA,KAAAC,aAAA;EACA;EAEAC,OAAA;IACAD,aAAA,WAAAA,cAAA;MAAA,IAAAE,KAAA;MACA,KAAAC,MAAA,CAAAC,GAAA,cACAC,IAAA,WAAAC,QAAA;QACAJ,KAAA,CAAAR,QAAA,GAAAY,QAAA,CAAAhB,IAAA;QACAY,KAAA,CAAAK,cAAA;MACA;IACA;IAEAA,cAAA,WAAAA,eAAA;MACA,UAAAb,QAAA;MAEA,KAAAA,QAAA,CAAAc,OAAA,WAAAC,OAAA;QACAA,OAAA,CAAAC,SAAA,GAAAxB,cAAA,CAAAuB,OAAA,CAAAC,SAAA;QACAD,OAAA,CAAAE,SAAA,GAAAzB,cAAA,CAAAuB,OAAA,CAAAE,SAAA;MACA;IACA;IAEAC,MAAA,WAAAA,OAAAC,IAAA;MACA,KAAApB,QAAA,GAAAoB,IAAA;MACA,KAAAtB,UAAA;IACA;IAEAuB,QAAA,WAAAA,SAAAD,IAAA;MACA,KAAApB,QAAA,GAAAoB,IAAA;MACA,KAAArB,YAAA;IACA;IAEAuB,aAAA,WAAAA,cAAA;MACA,KAAAvB,YAAA;MACA,KAAAC,QAAA;IACA;IAEAuB,mBAAA,WAAAA,oBAAA;MAAA,IAAAC,MAAA;MACA,KAAAd,MAAA,CAAAe,MAAA,cAAAC,MAAA,MAAA1B,QAAA,CAAA2B,EAAA,GACAf,IAAA;QACAY,MAAA,CAAAzB,YAAA;QACAyB,MAAA,CAAAjB,aAAA;MACA;IACA;IAEAqB,cAAA,WAAAA,eAAA;MACA,KAAA9B,UAAA;MACA,KAAAE,QAAA;IACA;IAEA6B,YAAA,WAAAA,aAAAT,IAAA;MAAA,IAAAU,MAAA;MACA,IAAAC,OAAA,GAAAC,aAAA,CAAAA,aAAA,KACAZ,IAAA;QACAH,SAAA;QACAC,SAAA;MAAA,EACA;MACA,KAAAR,MAAA,CAAAuB,IAAA,cAAAF,OAAA,EACAnB,IAAA;QACAkB,MAAA,CAAAhC,UAAA;QACAgC,MAAA,CAAAvB,aAAA;MACA;IACA;IAEA2B,YAAA,WAAAA,aAAAd,IAAA;MAAA,IAAAe,MAAA;MACA,IAAAJ,OAAA,GAAAC,aAAA,CAAAA,aAAA,KACAZ,IAAA;QACAH,SAAA;QACAC,SAAA;MAAA,EACA;MACA,KAAAR,MAAA,CAAA0B,GAAA,cAAAV,MAAA,CAAAN,IAAA,CAAAO,EAAA,GAAAI,OAAA,EACAnB,IAAA;QACAuB,MAAA,CAAArC,UAAA;QACAqC,MAAA,CAAA5B,aAAA;MACA;IACA;IAEA8B,KAAA,WAAAA,MAAA;MACA,KAAAvC,UAAA;IACA;EACA;AACA","ignoreList":[]}]}