{"remainingRequest":"E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\src\\views\\empresa\\FormEmpresa.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\src\\views\\empresa\\FormEmpresa.vue","mtime":1711432671379},{"path":"E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgU25hY2tCYXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9leGNlcHRpb24vU25hY2tCYXIudnVlJzsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnQ2FkYXN0cmFyRW1wcmVzYScsDQoNCiAgY29tcG9uZW50czogew0KICAgIFNuYWNrQmFyLA0KICB9LA0KDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGtleTogMCwNCiAgICAgIHZhbGlkOiBmYWxzZSwNCiAgICAgIHNob3dQYXNzd29yZDogZmFsc2UsDQogICAgICBlbXByZXNhOiB0aGlzLnJlc2VudEl0ZW0oKSwNCiAgICAgIGNucGpSdWxlczogWw0KICAgICAgICAodikgPT4gISF2IHx8ICdDTlBKIMOpIG9icmlnYXTDs3JpbycsDQogICAgICAgICh2KSA9PiAvXlxkezJ9XC5cZHszfVwuXGR7M31cL1xkezR9LVxkezJ9JC8udGVzdCh2KSB8fCAnQ05QSiBkZXZlIHNlciB2w6FsaWRvJywNCiAgICAgIF0sDQogICAgICBlbWFpbFJ1bGVzOiBbDQogICAgICAgICh2KSA9PiAhIXYgfHwgJ0UtbWFpbCDDqSBvYnJpZ2F0w7NyaW8nLA0KICAgICAgICAodikgPT4gLy4rQC4rXC4uKy8udGVzdCh2KSB8fCAnRS1tYWlsIGRldmUgc2VyIHbDoWxpZG8nLA0KICAgICAgXSwNCiAgICAgIGlucHV0UnVsZXM6IFsNCiAgICAgICAgKHYpID0+ICEhdiB8fCAnQ2FtcG8gb2JyaWdhdMOzcmlvJywNCiAgICAgIF0sDQogICAgfTsNCiAgfSwNCg0KICBjb21wdXRlZDogew0KICAgIHRpdGxlICgpIHsNCiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZXIuaGlzdG9yeS5jdXJyZW50LnBhcmFtcy5pZCA/ICdFZGl0YXIgY2FkYXN0cm8gZGUgRW1wcmVzYScgOiAnQ2FkYXN0cmFyIEVtcHJlc2EnOw0KICAgIH0sDQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIHJlc2VudEl0ZW0oKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICBpZDogbnVsbCwNCiAgICAgICAgLy8gQE5vdE51bGwNCiAgICAgICAgY25wajogJycsDQogICAgICAgIC8vIEBOb3ROdWxsDQogICAgICAgIHJhemFvU29jaWFsOiAnJywNCiAgICAgICAgdGVsZWZvbmU6ICcnLA0KICAgICAgICAvLyBATm90TnVsbA0KICAgICAgICBlbWFpbDogJycsDQogICAgICAgIGxvZ3JhZG91cm86ICcnLA0KICAgICAgICBudW1lcm86ICcnLA0KICAgICAgICBiYWlycm86ICcnLA0KICAgICAgICBtdW5pY2lwaW86ICcnLA0KICAgICAgICBjb21wbGVtZW50bzogJycsDQogICAgICAgIGNlcDogJycsDQogICAgICAgIHNpdGU6ICcnLA0KICAgICAgICBzZW5oYTogJycsDQogICAgICAgIC8vIEBOb3ROdWxsDQogICAgICAgIHVzdWFyaW86ICcnLA0KICAgICAgfTsNCiAgICB9LA0KDQogICAgYXN5bmMgZWRpdEZvcm0oaWQpIHsNCiAgICAgIGF3YWl0IHRoaXMuJGF4aW9zLmdldChgL2VtcHJlc2FzLyR7aWR9YCkNCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgdGhpcy5lbXByZXNhID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgICB0aGlzLmtleSArPSAxOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7DQogICAgICAgICAgdGhpcy4kcmVmcy5TbmFja0Jhci5pbml0KGVycm9yLnJlc3BvbnNlLmRhdGFbMF0ubWVuc2FnZW0sICdlcnJvcicpOw0KICAgICAgICB9KTsNCiAgICB9LA0KDQogICAgYXN5bmMgc2F2ZShvYmopIHsNCiAgICAgIGF3YWl0IHRoaXMuJGF4aW9zLnBvc3QoJy9lbXByZXNhcycsIG9iaikNCiAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvZW1wcmVzYXMnKTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgIHRoaXMuJHJlZnMuU25hY2tCYXIuaW5pdChlcnJvci5yZXNwb25zZS5kYXRhWzBdLm1lbnNhZ2VtLCAnZXJyb3InKTsNCiAgICAgICAgfSk7DQogICAgfSwNCg0KICAgIG9uQ2xpY2tTYXZlKCkgew0KICAgICAgaWYgKHRoaXMudmFsaWQpIHsNCiAgICAgICAgY29uc3Qgc2VuZE9iaiA9IHsNCiAgICAgICAgICAuLi50aGlzLmVtcHJlc2EsDQogICAgICAgICAgY25wajogdGhpcy5lbXByZXNhLmNucGoucmVwbGFjZSgvW15cZF0vZywgJycpLA0KICAgICAgICAgIGNlcDogdGhpcy5lbXByZXNhLmNlcC5yZXBsYWNlKC9bXlxkXS9nLCAnJyksDQogICAgICAgICAgdGVsZWZvbmU6IHRoaXMuZW1wcmVzYS50ZWxlZm9uZS5yZXBsYWNlKC9bXlxkXS9nLCAnJyksDQogICAgICAgIH07DQogICAgICAgIGlmICghdGhpcy5lbXByZXNhLmlkKSB7DQogICAgICAgICAgdGhpcy5zYXZlKHNlbmRPYmopOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMudXBkYXRlKHNlbmRPYmopOw0KICAgICAgICB9DQogICAgICB9DQoNCiAgICB9LA0KDQogICAgYXN5bmMgdXBkYXRlKG9iaikgew0KICAgICAgYXdhaXQgdGhpcy4kYXhpb3MucHV0KGAvZW1wcmVzYXMvJHtvYmouaWR9YCwgb2JqKQ0KICAgICAgICAudGhlbigoKSA9PiB7DQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9lbXByZXNhcycpOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7DQogICAgICAgICAgdGhpcy4kcmVmcy5TbmFja0Jhci5pbml0KGVycm9yLnJlc3BvbnNlLmRhdGFbMF0ubWVuc2FnZW0sICdlcnJvcicpOw0KICAgICAgICB9KTsNCiAgICB9LA0KDQogICAgb25DbGlja0NhbmNlbGFyKCkgew0KICAgICAgdGhpcy5yZXNlbnRJdGVtKCk7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2VtcHJlc2FzJyk7DQogICAgfSwNCiAgfSwNCg0KICBtb3VudGVkKCkgew0KICAgIGlmKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCAhPT0gdW5kZWZpbmVkKSB7DQogICAgICB0aGlzLmVkaXRGb3JtKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCk7DQogICAgfQ0KICB9LA0KfTsNCg=="},{"version":3,"sources":["FormEmpresa.vue"],"names":[],"mappings":";AA4KA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"FormEmpresa.vue","sourceRoot":"src/views/empresa","sourcesContent":["<template>\r\n  <v-container fluid>\r\n    <v-card elevation=\"3\" :key=\"key\">\r\n      <p\r\n        align=\"center\"\r\n        class=\"text-h4\"\r\n        style=\"padding-top: 15px; color: #138496;\"\r\n      >\r\n        {{ title }}\r\n      </p>\r\n      <v-form v-model=\"valid\">\r\n        <v-container>\r\n          <div class=\"row\">\r\n            <v-col cols=\"12\">\r\n              <v-text-field\r\n                v-model=\"empresa.razaoSocial\"\r\n                :rules=\"inputRules\"\r\n                label=\"Nome da empresa\"\r\n                maxlength=\"64\"\r\n                :counter=\"64\"\r\n                clearable\r\n                outlined\r\n                required\r\n              />\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" md=\"6\">\r\n              <v-text-field\r\n                v-mask=\"'##.###.###/####-##'\"\r\n                v-model=\"empresa.cnpj\"\r\n                :rules=\"cnpjRules\"\r\n                maxlength=\"32\"\r\n                :counter=\"32\"\r\n                label=\"CNPJ\"\r\n                clearable\r\n                outlined\r\n                required\r\n              />\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" md=\"6\">\r\n              <v-text-field\r\n                v-model=\"empresa.email\"\r\n                :rules=\"emailRules\"\r\n                label=\"E-mail\"\r\n                clearable\r\n                outlined\r\n                required\r\n              />\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" md=\"4\">\r\n              <v-text-field\r\n                v-model=\"empresa.telefone\"\r\n                v-mask=\"'(##) #####-####'\"\r\n                label=\"Telefone (DDD) xxxxx-xxxx\"\r\n                clearable\r\n                outlined\r\n              />\r\n            </v-col>\r\n\r\n              <v-col cols=\"12\" md=\"4\">\r\n              <v-text-field\r\n                v-model=\"empresa.numero\"\r\n                label=\"Numero\"\r\n                clearable\r\n                outlined\r\n              />\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" md=\"4\">\r\n              <v-text-field\r\n                v-model=\"empresa.logradouro\"\r\n                label=\"Logradouro\"\r\n                clearable\r\n                outlined\r\n                counter\r\n              />\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" md=\"3\">\r\n              <v-text-field\r\n                v-model=\"empresa.cep\"\r\n                v-mask=\"'#####-###'\"\r\n                label=\"CEP\"\r\n                clearable\r\n                outlined\r\n              />\r\n            </v-col>\r\n\r\n              <v-col cols=\"12\" md=\"4\">\r\n                <v-text-field\r\n                  v-model=\"empresa.bairro\"\r\n                  label=\"Bairro\"\r\n                  clearable\r\n                  outlined\r\n                />\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" md=\"5\">\r\n              <v-text-field\r\n                v-model=\"empresa.municipio\"\r\n                label=\"Municipio\"\r\n                clearable\r\n                outlined\r\n              />\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" md=\"4\">\r\n              <v-text-field\r\n                v-model=\"empresa.usuario\"\r\n                label=\"Nome de usuário\"\r\n                :rules=\"inputRules\"\r\n                :counter=\"20\"\r\n                clearable\r\n                outlined\r\n                required\r\n              />\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" md=\"4\">\r\n              <v-text-field\r\n                v-model=\"empresa.senha\"\r\n                :append-icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\"\r\n                :type=\"showPassword ? 'text' : 'password'\"\r\n                label=\"Senha\"\r\n                outlined\r\n                counter\r\n                @click:append=\"showPassword = !showPassword\"\r\n              />\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" md=\"4\">\r\n              <v-text-field\r\n                v-model=\"empresa.site\"\r\n                label=\"Site\"\r\n                clearable\r\n                outlined\r\n                counter\r\n              />\r\n            </v-col>\r\n          </div>\r\n          <v-card-actions class=\"mt-3\">\r\n            <v-btn\r\n              outlined\r\n              elevation=\"2\"\r\n              color=\"error\"\r\n              @click=\"onClickCancelar\"\r\n            >\r\n              <v-icon small>mdi-close</v-icon>\r\n              Cancelar\r\n            </v-btn>\r\n            <v-spacer></v-spacer>\r\n            <v-btn\r\n              outlined\r\n              elevation=\"2\"\r\n              color=\"success\"\r\n              :disabled=\"!valid\"\r\n              @click=\"onClickSave\"\r\n            >\r\n              <v-icon small>{{ empresa.id ? 'mdi-pencil' : 'mdi-plus' }}</v-icon>\r\n              {{ empresa.id ? 'Editar' : 'Salvar'}}\r\n            </v-btn>\r\n          </v-card-actions>\r\n        </v-container>\r\n      </v-form>\r\n    </v-card>\r\n    <SnackBar ref=\"SnackBar\"/>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport SnackBar from '../../components/exception/SnackBar.vue';\r\n\r\nexport default {\r\n  name: 'CadastrarEmpresa',\r\n\r\n  components: {\r\n    SnackBar,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      key: 0,\r\n      valid: false,\r\n      showPassword: false,\r\n      empresa: this.resentItem(),\r\n      cnpjRules: [\r\n        (v) => !!v || 'CNPJ é obrigatório',\r\n        (v) => /^\\d{2}\\.\\d{3}\\.\\d{3}\\/\\d{4}-\\d{2}$/.test(v) || 'CNPJ deve ser válido',\r\n      ],\r\n      emailRules: [\r\n        (v) => !!v || 'E-mail é obrigatório',\r\n        (v) => /.+@.+\\..+/.test(v) || 'E-mail deve ser válido',\r\n      ],\r\n      inputRules: [\r\n        (v) => !!v || 'Campo obrigatório',\r\n      ],\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    title () {\r\n      return this.$router.history.current.params.id ? 'Editar cadastro de Empresa' : 'Cadastrar Empresa';\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    resentItem() {\r\n      return {\r\n        id: null,\r\n        // @NotNull\r\n        cnpj: '',\r\n        // @NotNull\r\n        razaoSocial: '',\r\n        telefone: '',\r\n        // @NotNull\r\n        email: '',\r\n        logradouro: '',\r\n        numero: '',\r\n        bairro: '',\r\n        municipio: '',\r\n        complemento: '',\r\n        cep: '',\r\n        site: '',\r\n        senha: '',\r\n        // @NotNull\r\n        usuario: '',\r\n      };\r\n    },\r\n\r\n    async editForm(id) {\r\n      await this.$axios.get(`/empresas/${id}`)\r\n        .then((response) => {\r\n          this.empresa = response.data;\r\n          this.key += 1;\r\n        })\r\n        .catch((error) => {\r\n          this.$refs.SnackBar.init(error.response.data[0].mensagem, 'error');\r\n        });\r\n    },\r\n\r\n    async save(obj) {\r\n      await this.$axios.post('/empresas', obj)\r\n        .then(() => {\r\n          this.$router.push('/empresas');\r\n        })\r\n        .catch((error) => {\r\n          this.$refs.SnackBar.init(error.response.data[0].mensagem, 'error');\r\n        });\r\n    },\r\n\r\n    onClickSave() {\r\n      if (this.valid) {\r\n        const sendObj = {\r\n          ...this.empresa,\r\n          cnpj: this.empresa.cnpj.replace(/[^\\d]/g, ''),\r\n          cep: this.empresa.cep.replace(/[^\\d]/g, ''),\r\n          telefone: this.empresa.telefone.replace(/[^\\d]/g, ''),\r\n        };\r\n        if (!this.empresa.id) {\r\n          this.save(sendObj);\r\n        } else {\r\n          this.update(sendObj);\r\n        }\r\n      }\r\n\r\n    },\r\n\r\n    async update(obj) {\r\n      await this.$axios.put(`/empresas/${obj.id}`, obj)\r\n        .then(() => {\r\n          this.$router.push('/empresas');\r\n        })\r\n        .catch((error) => {\r\n          this.$refs.SnackBar.init(error.response.data[0].mensagem, 'error');\r\n        });\r\n    },\r\n\r\n    onClickCancelar() {\r\n      this.resentItem();\r\n      this.$router.push('/empresas');\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    if(this.$route.params.id !== undefined) {\r\n      this.editForm(this.$route.params.id);\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}