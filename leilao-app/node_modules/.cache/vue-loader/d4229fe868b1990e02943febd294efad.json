{"remainingRequest":"E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\src\\views\\leiloes\\Leiloes.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\src\\views\\leiloes\\Leiloes.vue","mtime":1711491685733},{"path":"E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgVGFiZWxhRGluYW1pY2EgZnJvbSAnQC9jb21wb25lbnRzL3RhYmxlL1RhYmVsYURpbmFtaWNhLnZ1ZSc7DQppbXBvcnQgQnVzY2FyTGVpbGFvIGZyb20gJy4vQnVzY2FyTGVpbGFvLnZ1ZSc7DQppbXBvcnQgRGlhbG9nRGVsZXRlIGZyb20gJ0AvY29tcG9uZW50cy90YWJsZS9EZWxldGVEaWFsb2cudnVlJzsNCmltcG9ydCB7IGZvcm1hdGRhdGUgfSBmcm9tICdAL3V0aWwvRGF0ZVV0aWwuanMnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdMZWlsb2VzJywNCg0KICBjb21wb25lbnRzOiB7DQogICAgVGFiZWxhRGluYW1pY2EsDQogICAgQnVzY2FyTGVpbGFvLA0KICAgIERpYWxvZ0RlbGV0ZSwNCiAgfSwNCg0KICBkYXRhKCkgew0KICAgIHJldHVybnsNCiAgICAgIGZvcm1hdGRhdGUsDQogICAgICBzaG93RGlhbG9nOiBmYWxzZSwNCiAgICAgIGRpYWxvZ0RlbGV0ZTogZmFsc2UsDQogICAgICBzZWxlY3RlZDogbnVsbCwNCiAgICAgIGxlaWxvZXM6IFtdLA0KICAgICAgaGVhZGVyczogWw0KICAgICAgICB7DQogICAgICAgICAgdmFsdWU6ICdjb2RpZ28nLA0KICAgICAgICAgIHRleHQ6ICdDw7NkaWdvJywNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHZhbHVlOiAndmVuZGVkb3InLA0KICAgICAgICAgIHRleHQ6ICdWZW5kZWRvcicsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB2YWx1ZTogJ2luaWNpb1ByZXZpc3RvJywNCiAgICAgICAgICB0ZXh0OiAnSW7DrWNpbyBQcmV2aXN0bycsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB2YWx1ZTogJ2Rlc2NyaWNhbycsDQogICAgICAgICAgdGV4dDogJ0Rlc2NyacOnw6NvJywNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHZhbHVlOiAnYWN0aW9ucycsDQogICAgICAgICAgdGV4dDogJ0HDp8O1ZXMnLA0KICAgICAgICB9DQogICAgICBdLA0KICAgICAgcGFnaW5hdGlvbjogew0KICAgICAgICBzb3J0Qnk6ICdjb2RpZ28nLA0KICAgICAgICBwYWdlOiAxLA0KICAgICAgICB0b3RhbDogMCwNCiAgICAgICAgcGFnZUNvdW50OiAwLA0KICAgICAgICBpdGVtc1BlclBhZ2U6IDEwLA0KICAgICAgfQ0KICAgIH0NCiAgfSwNCg0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuZmV0Y2hMZWlsb2VzKCk7DQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIGZldGNoTGVpbG9lcygpIHsNCiAgICAgIHRoaXMuJGF4aW9zLmdldCgnL2xlaWxvZXMvZmlsdHJvJywgew0KICAgICAgICBwYXJhbXM6IHsNCiAgICAgICAgICAuLi50aGlzLiRyb3V0ZS5xdWVyeSwNCiAgICAgICAgICBwYWdlOiB0aGlzLnBhZ2luYXRpb24ucGFnZSAtIDEsDQogICAgICAgICAgc2l6ZTogdGhpcy5wYWdpbmF0aW9uLml0ZW1zUGVyUGFnZSwNCiAgICAgICAgICBzb3J0OiB0aGlzLnBhZ2luYXRpb24uc29ydEJ5LA0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLmxlaWxvZXMgPSByZXNwb25zZS5kYXRhLmNvbnRlbnQ7DQogICAgICAgIHRoaXMuZm9ybWF0YURhdGEoKTsNCiAgICAgICAgdGhpcy5wYWdpbmF0aW9uLnRvdGFsID0gcmVzcG9uc2UuZGF0YS50b3RhbEVsZW1lbnRzOw0KICAgICAgICB0aGlzLnBhZ2luYXRpb24ucGFnZUNvdW50ID0gcmVzcG9uc2UuZGF0YS50b3RhbFBhZ2VzOw0KICAgICAgfSkNCiAgICB9LA0KDQogICAgZm9ybWF0YURhdGEoKSB7DQogICAgICB0aGlzLmxlaWxvZXMuZm9yRWFjaChsZWlsYW8gPT4gew0KICAgICAgICBsZWlsYW8uaW5pY2lvUHJldmlzdG8gPSB0aGlzLmZvcm1hdGRhdGUobGVpbGFvLmluaWNpb1ByZXZpc3RvKTsNCiAgICAgIH0pOw0KICAgIH0sDQoNCiAgICBvbkNsaWNrQWRkKCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnY2FkYXN0cm8tbGVpbGFvJ30pOw0KICAgIH0sDQoNCiAgICBvbkNsaWNrRWRpdChpdGVtKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6IGAvbGVpbG9lcy9jYWRhc3Ryby1sZWlsYW8vJHtpdGVtLmlkfWAgfSk7DQogICAgfSwNCg0KICAgIG9uQ2xpY2tEZWxldGUoaXRlbSkgew0KICAgICAgdGhpcy5zZWxlY3RlZCA9IGl0ZW07DQogICAgICB0aGlzLmRpYWxvZ0RlbGV0ZSA9IHRydWU7DQogICAgfSwNCg0KICAgIG9uRGVsZXRlSXRlbUNvbmZpcm0oKSB7DQogICAgICB0aGlzLiRheGlvcy5kZWxldGUoYC9sZWlsb2VzLyR7dGhpcy5zZWxlY3RlZC5pZH1gKQ0KICAgICAgICAudGhlbigoKSA9PiB7DQogICAgICAgICAgdGhpcy5kaWFsb2dEZWxldGUgPSBmYWxzZTsNCiAgICAgICAgICB0aGlzLmZldGNoTGVpbG9lcygpOw0KICAgICAgICB9KQ0KICAgIH0sDQoNCiAgICBvblNlYXJjaCgpIHsNCiAgICAgIHRoaXMuc2hvd0RpYWxvZyA9IHRydWU7DQogICAgfSwNCg0KICAgIG9uU2VhcmNoRGlhbG9nKCkgew0KICAgICAgdGhpcy5zaG93RGlhbG9nID0gZmFsc2U7DQogICAgICB0aGlzLmZldGNoTGVpbG9lcygpOw0KICAgIH0sDQogIH0sDQp9DQo="},{"version":3,"sources":["Leiloes.vue"],"names":[],"mappings":";AAkCA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Leiloes.vue","sourceRoot":"src/views/leiloes","sourcesContent":["<template>\r\n  <div>\r\n    <TabelaDinamica\r\n      title=\"Leilões\"\r\n      :headers=\"headers\"\r\n      :items=\"leiloes\"\r\n      :showBtnAdd=\"true\"\r\n      :showbtnColumn=\"true\"\r\n      :showSeachButton=\"true\"\r\n      :pagination=\"pagination\"\r\n      @onAdd=\"onClickAdd\"\r\n      @onSearch=\"onSearch\"\r\n      @onEdit=\"onClickEdit\"\r\n      @onDelete=\"onClickDelete\"\r\n      @fetchData=\"fetchLeiloes\"\r\n    />\r\n\r\n    <BuscarLeilao\r\n      v-if=\"showDialog\"\r\n      ref=\"BuscarLeilao\"\r\n      :showDialog=\"showDialog\"\r\n      @onSearch=\"onSearchDialog\"\r\n      @closeDialog=\"showDialog = false\"\r\n    />\r\n\r\n    <DialogDelete\r\n      :dialogDelete=\"dialogDelete\"\r\n      @onDeleteItem=\"onDeleteItemConfirm\"\r\n      @onCancelDelete=\"dialogDelete = false\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TabelaDinamica from '@/components/table/TabelaDinamica.vue';\r\nimport BuscarLeilao from './BuscarLeilao.vue';\r\nimport DialogDelete from '@/components/table/DeleteDialog.vue';\r\nimport { formatdate } from '@/util/DateUtil.js';\r\n\r\nexport default {\r\n  name: 'Leiloes',\r\n\r\n  components: {\r\n    TabelaDinamica,\r\n    BuscarLeilao,\r\n    DialogDelete,\r\n  },\r\n\r\n  data() {\r\n    return{\r\n      formatdate,\r\n      showDialog: false,\r\n      dialogDelete: false,\r\n      selected: null,\r\n      leiloes: [],\r\n      headers: [\r\n        {\r\n          value: 'codigo',\r\n          text: 'Código',\r\n        },\r\n        {\r\n          value: 'vendedor',\r\n          text: 'Vendedor',\r\n        },\r\n        {\r\n          value: 'inicioPrevisto',\r\n          text: 'Início Previsto',\r\n        },\r\n        {\r\n          value: 'descricao',\r\n          text: 'Descrição',\r\n        },\r\n        {\r\n          value: 'actions',\r\n          text: 'Ações',\r\n        }\r\n      ],\r\n      pagination: {\r\n        sortBy: 'codigo',\r\n        page: 1,\r\n        total: 0,\r\n        pageCount: 0,\r\n        itemsPerPage: 10,\r\n      }\r\n    }\r\n  },\r\n\r\n  created() {\r\n    this.fetchLeiloes();\r\n  },\r\n\r\n  methods: {\r\n    fetchLeiloes() {\r\n      this.$axios.get('/leiloes/filtro', {\r\n        params: {\r\n          ...this.$route.query,\r\n          page: this.pagination.page - 1,\r\n          size: this.pagination.itemsPerPage,\r\n          sort: this.pagination.sortBy,\r\n        }\r\n      })\r\n      .then(response => {\r\n        this.leiloes = response.data.content;\r\n        this.formataData();\r\n        this.pagination.total = response.data.totalElements;\r\n        this.pagination.pageCount = response.data.totalPages;\r\n      })\r\n    },\r\n\r\n    formataData() {\r\n      this.leiloes.forEach(leilao => {\r\n        leilao.inicioPrevisto = this.formatdate(leilao.inicioPrevisto);\r\n      });\r\n    },\r\n\r\n    onClickAdd() {\r\n      this.$router.push({ name: 'cadastro-leilao'});\r\n    },\r\n\r\n    onClickEdit(item) {\r\n      this.$router.push({ path: `/leiloes/cadastro-leilao/${item.id}` });\r\n    },\r\n\r\n    onClickDelete(item) {\r\n      this.selected = item;\r\n      this.dialogDelete = true;\r\n    },\r\n\r\n    onDeleteItemConfirm() {\r\n      this.$axios.delete(`/leiloes/${this.selected.id}`)\r\n        .then(() => {\r\n          this.dialogDelete = false;\r\n          this.fetchLeiloes();\r\n        })\r\n    },\r\n\r\n    onSearch() {\r\n      this.showDialog = true;\r\n    },\r\n\r\n    onSearchDialog() {\r\n      this.showDialog = false;\r\n      this.fetchLeiloes();\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]}]}