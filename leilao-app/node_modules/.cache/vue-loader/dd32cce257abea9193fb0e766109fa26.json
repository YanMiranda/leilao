{"remainingRequest":"E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\src\\views\\empresa\\Empresas.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\src\\views\\empresa\\Empresas.vue","mtime":1711429592834},{"path":"E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\yan\\Projeto-leilão\\Selecao-Dev-AZ-master\\Selecao-Dev-AZ-master\\leilao-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBUYWJlbGFEaW5hbWljYSBmcm9tICdAL2NvbXBvbmVudHMvdGFibGUvVGFiZWxhRGluYW1pY2EudnVlJzsKaW1wb3J0IEJ1c2NhckVtcHJlc2EgZnJvbSAnLi9CdXNjYXJFbXByZXNhLnZ1ZSc7CmltcG9ydCBEaWFsb2dEZWxldGUgZnJvbSAnQC9jb21wb25lbnRzL3RhYmxlL0RlbGV0ZURpYWxvZy52dWUnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdFbXByZXNhcycsCgogIGNvbXBvbmVudHM6IHsKICAgIFRhYmVsYURpbmFtaWNhLAogICAgQnVzY2FyRW1wcmVzYSwKICAgIERpYWxvZ0RlbGV0ZSwKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd0RpYWxvZzogZmFsc2UsCiAgICAgIGRpYWxvZ0RlbGV0ZTogZmFsc2UsCiAgICAgIHNlbGVjdGVkOiBudWxsLAogICAgICBlbXByZXNhczogW10sCiAgICAgIGZpZWxkczogWwogICAgICAgIHsKICAgICAgICAgIHZhbHVlOiAnY25waicsCiAgICAgICAgICB0ZXh0OiAnQ05QSicsCiAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB2YWx1ZTogJ3JhemFvU29jaWFsJywKICAgICAgICAgIHRleHQ6ICdOb21lJywKICAgICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHZhbHVlOiAndGVsZWZvbmUnLAogICAgICAgICAgdGV4dDogJ1RlbGVmb25lJywKICAgICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHZhbHVlOiAnZW1haWwnLAogICAgICAgICAgdGV4dDogJ0VtYWlsJywKICAgICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHZhbHVlOiAnYWN0aW9ucycsCiAgICAgICAgICB0ZXh0OiAnQcOnw7VlcycsCiAgICAgICAgfSwKICAgICAgXSwKICAgICAgcGFnaW5hdGlvbjogewogICAgICAgIHNvcnRCeTogJ2NvZGlnbycsCiAgICAgICAgcGFnZTogMSwKICAgICAgICB0b3RhbDogMCwKICAgICAgICBwYWdlQ291bnQ6IDAsCiAgICAgICAgaXRlbXNQZXJQYWdlOiAxMCwKICAgICAgfQogICAgfTsKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaEVtcHJlc2FzKCk7CiAgfSwKCiAgbWV0aG9kczogewogICAgZmV0Y2hFbXByZXNhcygpIHsKICAgICAgdGhpcy4kYXhpb3MuZ2V0KCcvZW1wcmVzYXMvZmlsdHJvJywgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgLi4udGhpcy4kcm91dGUucXVlcnksCiAgICAgICAgICBwYWdlOiB0aGlzLnBhZ2luYXRpb24ucGFnZSAtIDEsCiAgICAgICAgICBzaXplOiB0aGlzLnBhZ2luYXRpb24uaXRlbXNQZXJQYWdlLAogICAgICAgICAgc29ydDogdGhpcy5wYWdpbmF0aW9uLnNvcnRCeSwKICAgICAgICB9CiAgICAgIH0pCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIHRoaXMuZW1wcmVzYXMgPSByZXNwb25zZS5kYXRhLmNvbnRlbnQ7CiAgICAgICAgdGhpcy5wYWdpbmF0aW9uLnRvdGFsID0gcmVzcG9uc2UuZGF0YS50b3RhbEVsZW1lbnRzOwogICAgICAgIHRoaXMucGFnaW5hdGlvbi5wYWdlQ291bnQgPSByZXNwb25zZS5kYXRhLnRvdGFsUGFnZXM7CiAgICAgIH0pOwogICAgfSwKCiAgICBvbkVkaXQoaXRlbSkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6IGAvZW1wcmVzYXMvY2FkYXN0cm8tZW1wcmVzYS8ke2l0ZW0uaWR9YCB9KTsKICAgIH0sCgogICAgb25EZWxldGUoaXRlbSkgewogICAgICB0aGlzLnNlbGVjdGVkID0gaXRlbTsKICAgICAgdGhpcy5kaWFsb2dEZWxldGUgPSB0cnVlOwogICAgfSwKCiAgICBvbkRlbGV0ZUl0ZW1Db25maXJtKCkgewogICAgICB0aGlzLiRheGlvcy5kZWxldGUoYC9lbXByZXNhcy8ke3RoaXMuc2VsZWN0ZWQuaWR9YCkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLmRpYWxvZ0RlbGV0ZSA9IGZhbHNlOwogICAgICAgICAgdGhpcy5mZXRjaEVtcHJlc2FzKCk7CiAgICAgICAgfSk7CiAgICB9LAoKICAgIG9uQWRkKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdjYWRhc3Ryby1lbXByZXNhJyB9KTsKICAgIH0sCgogICAgb25TZWFyY2goKSB7CiAgICAgIHRoaXMuc2hvd0RpYWxvZyA9IHRydWU7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Empresas.vue"],"names":[],"mappings":";AAkCA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Empresas.vue","sourceRoot":"src/views/empresa","sourcesContent":["<template>\n  <div>\n    <TabelaDinamica\n      :title=\"'Empresas'\"\n      :headers=\"fields\"\n      :items=\"empresas\"\n      :showBtnAdd=\"true\"\n      :showbtnColumn=\"true\"\n      :showSeachButton=\"true\"\n      :pagination=\"pagination\"\n      @onDelete=\"onDelete\"\n      @onSearch=\"onSearch\"\n      @onEdit=\"onEdit\"\n      @onAdd=\"onAdd\"\n      @fetchData=\"fetchEmpresas\"\n    />\n\n    <BuscarEmpresa\n      v-if=\"showDialog\"\n      ref=\"BuscarEmpresa\"\n      :showDialog=\"showDialog\"\n      @onSearch=\"fetchEmpresas\"\n      @closeDialog=\"showDialog = false\"\n    />\n\n    <DialogDelete\n      :dialogDelete=\"dialogDelete\"\n      @onDeleteItem=\"onDeleteItemConfirm\"\n      @onCancelDelete=\"dialogDelete = false\"\n    />\n  </div>\n</template>\n\n<script>\nimport TabelaDinamica from '@/components/table/TabelaDinamica.vue';\nimport BuscarEmpresa from './BuscarEmpresa.vue';\nimport DialogDelete from '@/components/table/DeleteDialog.vue';\n\nexport default {\n  name: 'Empresas',\n\n  components: {\n    TabelaDinamica,\n    BuscarEmpresa,\n    DialogDelete,\n  },\n\n  data() {\n    return {\n      showDialog: false,\n      dialogDelete: false,\n      selected: null,\n      empresas: [],\n      fields: [\n        {\n          value: 'cnpj',\n          text: 'CNPJ',\n          align: 'center',\n        },\n        {\n          value: 'razaoSocial',\n          text: 'Nome',\n          align: 'center',\n        },\n        {\n          value: 'telefone',\n          text: 'Telefone',\n          align: 'center',\n        },\n        {\n          value: 'email',\n          text: 'Email',\n          align: 'center',\n        },\n        {\n          value: 'actions',\n          text: 'Ações',\n        },\n      ],\n      pagination: {\n        sortBy: 'codigo',\n        page: 1,\n        total: 0,\n        pageCount: 0,\n        itemsPerPage: 10,\n      }\n    };\n  },\n\n  created() {\n    this.fetchEmpresas();\n  },\n\n  methods: {\n    fetchEmpresas() {\n      this.$axios.get('/empresas/filtro', {\n        params: {\n          ...this.$route.query,\n          page: this.pagination.page - 1,\n          size: this.pagination.itemsPerPage,\n          sort: this.pagination.sortBy,\n        }\n      })\n      .then((response) => {\n        this.empresas = response.data.content;\n        this.pagination.total = response.data.totalElements;\n        this.pagination.pageCount = response.data.totalPages;\n      });\n    },\n\n    onEdit(item) {\n      this.$router.push({ path: `/empresas/cadastro-empresa/${item.id}` });\n    },\n\n    onDelete(item) {\n      this.selected = item;\n      this.dialogDelete = true;\n    },\n\n    onDeleteItemConfirm() {\n      this.$axios.delete(`/empresas/${this.selected.id}`)\n        .then(() => {\n          this.dialogDelete = false;\n          this.fetchEmpresas();\n        });\n    },\n\n    onAdd() {\n      this.$router.push({ name: 'cadastro-empresa' });\n    },\n\n    onSearch() {\n      this.showDialog = true;\n    },\n  },\n};\n</script>\n\n<style>\n\n</style>\n"]}]}